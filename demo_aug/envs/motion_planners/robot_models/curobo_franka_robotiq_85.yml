##
## Copyright (c) 2023 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
##
## NVIDIA CORPORATION, its affiliates and licensors retain all intellectual
## property and proprietary rights in and to this material, related
## documentation and any modifications thereto. Any use, reproduction,
## disclosure or distribution of this material and related documentation
## without an express license agreement from NVIDIA CORPORATION or
## its affiliates is strictly prohibited.
##

## Note: this file is taken from curobo"s source files but can likely be found elsewhere

robot_cfg:
  kinematics:
    use_usd_kinematics: False
    isaac_usd_path: "/Isaac/Robots/Franka/franka.usd"
    usd_path: "robot/franka/franka_panda_robotiq_85.usda"
    usd_robot_root: "/panda"
    usd_flip_joints: ["panda_joint1","panda_joint2","panda_joint3","panda_joint4", "panda_joint5",
      "panda_joint6","panda_joint7","panda_finger_joint1", "panda_finger_joint2"]
    usd_flip_joints: {
    "panda_joint1": "Z",
    "panda_joint2": "Z",
    "panda_joint3": "Z",
    "panda_joint4": "Z",
    "panda_joint5": "Z",
    "panda_joint6": "Z",
    "panda_joint7": "Z",
    # "panda_finger_joint1": "Y",
    #  "panda_finger_joint2":  "Y",
    # unclear what these flip joints are
    }
    
    usd_flip_joint_limits: ["panda_finger_joint2"]
    # assumes demo-aug and curobo are on the same folder level
    urdf_path: "/scr/thankyou/autom/demo-aug/demo_aug/models/franka_description/urdf/panda_arm_robotiq_85.urdf"
    asset_root_path: "/scr/thankyou/autom/demo-aug/demo_aug/models/franka_description"
    base_link: "panda_link0"
    ee_link: "panda_link8"
    collision_link_names:
      [
        "panda_link0",
        "panda_link1",
        "panda_link2",
        "panda_link3",
        "panda_link4",
        "panda_link5",
        "panda_link6",
        "panda_link7",
        "robotiq_85_base_link",
        # "robotiq_85_left_knuckle_link",
        # "robotiq_85_right_knuckle_link",
        "robotiq_85_left_finger_link",
        "robotiq_85_right_finger_link",
        "robotiq_85_left_inner_knuckle_link",
        "robotiq_85_right_inner_knuckle_link",
        "robotiq_85_left_finger_tip_link",
        "robotiq_85_right_finger_tip_link",
        "attached_object",
      ]

    collision_spheres: "/scr/thankyou/autom/demo-aug/demo_aug/envs/motion_planners/robot_models/spheres/franka_robotiq_85_mesh.yml"
    collision_sphere_buffer: 0.004 # 0.0025
    extra_collision_spheres: {"attached_object": 200}
    use_global_cumul: True
    self_collision_ignore:
      {
        "panda_link0": ["panda_link1", "panda_link2"],
        "panda_link1": ["panda_link2", "panda_link3", "panda_link4"],
        "panda_link2": ["panda_link3", "panda_link4"],
        "panda_link3": ["panda_link4", "panda_link6"],
        "panda_link4":
          ["panda_link5", "panda_link6", "panda_link7", "panda_link8"],
        "panda_link5": ["panda_link6", "panda_link7", "robotiq_85_base_link","robotiq_85_left_knuckle_link", "robotiq_85_right_knuckle_link", "robotiq_85_left_finger_link", "robotiq_85_right_finger_link", "robotiq_85_left_inner_knuckle_link", "robotiq_85_right_inner_knuckle_link", "robotiq_85_left_finger_tip_link", "robotiq_85_right_finger_tip_link"],
        "panda_link6": ["panda_link7", "robotiq_85_base_link", "attached_object", "robotiq_85_left_knuckle_link", "robotiq_85_right_knuckle_link", "robotiq_85_left_finger_link", "robotiq_85_right_finger_link", "robotiq_85_left_inner_knuckle_link", "robotiq_85_right_inner_knuckle_link", "robotiq_85_left_finger_tip_link", "robotiq_85_right_finger_tip_link"],
        "panda_link7": ["robotiq_85_base_link", "attached_object", "robotiq_85_left_knuckle_link", "robotiq_85_right_knuckle_link", "robotiq_85_left_finger_link", "robotiq_85_right_finger_link", "robotiq_85_left_inner_knuckle_link", "robotiq_85_right_inner_knuckle_link", "robotiq_85_left_finger_tip_link", "robotiq_85_right_finger_tip_link"],
        "robotiq_85_base_link": ["robotiq_85_left_knuckle_link", "robotiq_85_right_knuckle_link", "robotiq_85_left_finger_link", "robotiq_85_right_finger_link", "robotiq_85_left_inner_knuckle_link", "robotiq_85_right_inner_knuckle_link", "robotiq_85_left_finger_tip_link", "robotiq_85_right_finger_tip_link","attached_object"],
        "robotiq_85_left_knuckle_link": [
            "robotiq_85_right_knuckle_link",
            "robotiq_85_left_finger_link",
            "robotiq_85_right_finger_link",
            "robotiq_85_left_inner_knuckle_link",
            "robotiq_85_right_inner_knuckle_link",
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_right_knuckle_link": [
            "robotiq_85_left_finger_link",
            "robotiq_85_right_finger_link",
            "robotiq_85_left_inner_knuckle_link",
            "robotiq_85_right_inner_knuckle_link",
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_left_finger_link": [
            "robotiq_85_right_finger_link",
            "robotiq_85_left_inner_knuckle_link",
            "robotiq_85_right_inner_knuckle_link",
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_right_finger_link": [
            "robotiq_85_left_inner_knuckle_link",
            "robotiq_85_right_inner_knuckle_link",
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_left_inner_knuckle_link": [
            "robotiq_85_right_inner_knuckle_link",
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_right_inner_knuckle_link": [
            "robotiq_85_left_finger_tip_link",
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_left_finger_tip_link": [
            "robotiq_85_right_finger_tip_link",
            "attached_object"
        ],
        "robotiq_85_right_finger_tip_link": ["attached_object"],
      }
    # todo(klin) :here!!!
    self_collision_buffer:
      {
        "panda_link0": 0.1, 
        "panda_link1": 0.05, 
        "panda_link2": 0.0,
        "panda_link3": 0.0,
        "panda_link4": 0.0,
        "panda_link5": 0.0,
        "panda_link6": 0.0,
        "panda_link7": 0.0,
        "robotiq_85_base_link": 0.0,
        "robotiq_85_left_knuckle_link": 0.0,
        "robotiq_85_right_knuckle_link": 0.0,
        "robotiq_85_left_finger_link": 0.0,
        "robotiq_85_right_finger_link": 0.0,
        "robotiq_85_left_inner_knuckle_link": 0.0,
        "robotiq_85_right_inner_knuckle_link": 0.0,
        "robotiq_85_left_finger_tip_link": 0.0,
        "robotiq_85_right_finger_tip_link": 0.0,
        "attached_object": 0.0,
      }
    # link_names: ["panda_link8"]
    mesh_link_names:
      [
        "panda_link0",
        "panda_link1",
        "panda_link2",
        "panda_link3",
        "panda_link4",
        "panda_link5",
        "panda_link6",
        "panda_link7",
        "robotiq_85_base_link",
        "robotiq_85_left_knuckle_link",
        "robotiq_85_right_knuckle_link",
        "robotiq_85_left_finger_link",
        "robotiq_85_right_finger_link",
        "robotiq_85_left_inner_knuckle_link",
        "robotiq_85_right_inner_knuckle_link",
        "robotiq_85_left_finger_tip_link",
        "robotiq_85_right_finger_tip_link",
      ]
    # TODO: add lock joints in later
    lock_joints: {"robotiq_85_left_knuckle_joint": 0.0}
    # extra_links: {"attached_object":{"parent_link_name": "panda_hand" , 
    extra_links: {"attached_object":{"parent_link_name": "panda_link8" , 
    # manually updated fixed transform to 0, 0, 0.097
    "link_name": "attached_object", "fixed_transform": [0,0,0.097,1,0,0,0], "joint_type":"FIXED",
    "joint_name": "attach_joint" }}
    cspace:
      joint_names: ["panda_joint1","panda_joint2","panda_joint3","panda_joint4", "panda_joint5",
      "panda_joint6","panda_joint7", "robotiq_85_left_knuckle_joint"]
      retract_config: [0.0, -1.3, 0.0, -2.5, 0.0, 1.0, 0., 0.04, 0.04]
      null_space_weight: [1,1,1,1,1,1,1,1,1]
      cspace_distance_weight: [1,1,1,1,1,1,1,1,1]
      max_acceleration: 15.0
      max_jerk: 500.0
